# cluster merger

## 目的

`cluster_merger` 是一个用于将点云聚类合并为带特征类型的检测对象的工具包。

## 实现原理/算法

通过简单拼接输入话题中的点云聚类，实现多来源聚类结果的合并。

## 输入/输出

### 输入

| 名称              | 类型                                                     | 描述          |
| ----------------- | -------------------------------------------------------- | ------------- |
| `input/cluster0`  | `tier4_perception_msgs::msg::DetectedObjectsWithFeature` | 点云聚类输入0 |
| `input/cluster1`  | `tier4_perception_msgs::msg::DetectedObjectsWithFeature` | 点云聚类输入1 |

### 输出

| 名称               | 类型                                                  | 描述          |
| ------------------ | ----------------------------------------------------- | ------------- |
| `output/clusters`  | `autoware_auto_perception_msgs::msg::DetectedObjects` | 合并后的聚类  |

---

## 参数配置

| 参数名               | 类型     | 描述                          | 默认值      |
| :------------------- | :------- | :---------------------------- | :---------- |
| `output_frame_id`    | string   | 输出话题的header.frame_id     | `base_link` |

---

## 已知限制

<!-- 在此描述实现中的假设和限制，例如：
该算法假设输入聚类来自同一坐标系，若输入数据存在坐标系未对齐的情况，可能导致合并异常。
-->

---

## （可选）错误检测与处理

<!-- 描述错误检测机制及恢复策略，例如：
当输入聚类数量超过1000时，节点将丢弃超限数据并发布诊断警告。
-->

---

## （可选）性能指标

<!-- 描述算法复杂度或处理时间，例如：
### 时间复杂度
合并操作复杂度为O(N)，N为输入聚类总数

### 处理耗时
在Intel i7-11800H处理器上，单次合并1000个聚类的平均耗时为12ms
-->

---

## （可选）参考文献

<!-- 列出实现参考的外部资源，例如：
[1] 《点云多传感器融合技术综述》, 2023
[2] Autoware聚类优化设计文档: https://example.com
-->

---

## （可选）未来扩展

<!-- 描述未实现的功能或改进方向，例如：
- 支持动态输入话题数量配置
- 增加坐标系转换模块
-->